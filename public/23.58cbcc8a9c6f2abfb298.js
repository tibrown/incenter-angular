(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{v0l0:function(t,e,a){"use strict";a.r(e),a.d(e,"ChatNGRXModule",(function(){return F}));var i=a("Valr"),n=a("QJY3"),c=a("6onV"),s=a("T5p2"),r=a("h2Ha"),o=a("MnXN"),b=a("DUip"),d=a("mrSG"),l=a("Zf44"),h=a("oVYq"),u=a("vihK"),g=a("TYT/"),p=a("WfBE");function v(t,e){1&t&&g.Sb(0,"i",51)}function m(t,e){1&t&&g.Sb(0,"i",52)}function f(t,e){if(1&t&&(g.Xb(0,"span",53),g.Uc(1),g.Wb()),2&t){var a=g.nc().$implicit;g.Db(1),g.Vc(a.unreadMessageCount)}}var C=function(t){return{"selected-chat":t}},y=function(t){return{"align-items-center":t}};function X(t,e){if(1&t){var a=g.Yb();g.Xb(0,"a",39),g.jc("click",(function(){g.Kc(a);var t=e.$implicit;return g.nc().viewChat(t)})),g.Xb(1,"div",40),g.Xb(2,"span",41),g.Sb(3,"img",42),g.Sb(4,"span"),g.Sb(5,"i"),g.Wb(),g.Xb(6,"div",21),g.Xb(7,"h6",43),g.Uc(8),g.Xb(9,"span",44),g.Uc(10),g.Wb(),g.Wb(),g.Xb(11,"p",45),g.Sb(12,"i",46),g.Xb(13,"span"),g.Uc(14),g.Wb(),g.Xb(15,"span",47),g.Sc(16,v,1,0,"i",48),g.Sc(17,m,1,0,"i",49),g.Sc(18,f,2,1,"span",50),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Wb()}if(2&t){var i=e.$implicit;g.uc("ngClass",g.yc(12,C,i.isActiveChat)),g.Db(1),g.uc("ngClass",g.yc(14,y,!i.isActiveChat)),g.Db(2),g.uc("src",i.avatar,g.Mc),g.Db(1),g.Gb("avatar-status-",i.status,""),g.Db(4),g.Wc("",i.name," "),g.Db(2),g.Vc(i.lastChatTime),g.Db(4),g.Vc(i.lastChatMessage),g.Db(2),g.uc("ngIf",i.isPinnedUser),g.Db(1),g.uc("ngIf",i.isMuted),g.Db(1),g.uc("ngIf",""!=i.unreadMessageCount)}}function W(t,e){if(1&t&&(g.Xb(0,"p"),g.Uc(1),g.Wb()),2&t){var a=g.nc().$implicit;g.Db(1),g.Vc(a)}}function M(t,e){if(1&t&&(g.Xb(0,"vg-player"),g.Xb(1,"audio",65,66),g.Sb(3,"source",67),g.Wb(),g.Wb()),2&t){var a=g.Hc(2),i=g.nc().$implicit;g.Db(1),g.uc("vgMedia",a),g.Db(2),g.uc("src",i,g.Mc)}}function w(t,e){if(1&t&&(g.Xb(0,"vg-player",68),g.Xb(1,"video",69,70),g.Sb(3,"source",71),g.Wb(),g.Wb()),2&t){var a=g.Hc(2),i=g.nc().$implicit;g.Db(1),g.uc("vgMedia",a),g.Db(2),g.uc("src",i,g.Mc)}}function D(t,e){if(1&t&&(g.Xb(0,"div",62),g.Sc(1,W,2,1,"p",63),g.Sc(2,M,4,2,"vg-player",63),g.Sc(3,w,4,2,"vg-player",64),g.Wb()),2&t){var a=g.nc().$implicit;g.Db(1),g.uc("ngIf","text"===a.messageType),g.Db(1),g.uc("ngIf","audio"===a.messageType),g.Db(1),g.uc("ngIf","video"===a.messageType)}}function S(t,e){if(1&t&&(g.Xb(0,"p",72),g.Xb(1,"span",73),g.Uc(2),g.Wb(),g.Wb()),2&t){var a=g.nc().$implicit;g.Db(2),g.Vc(a.time)}}function I(t,e){if(1&t&&(g.Xb(0,"div",62),g.Xb(1,"p"),g.Uc(2),g.Wb(),g.Wb()),2&t){var a=e.$implicit;g.Db(2),g.Vc(a)}}function U(t,e){if(1&t&&(g.Xb(0,"div",74),g.Xb(1,"div",55),g.Xb(2,"a",75),g.Sb(3,"img",76),g.Wb(),g.Wb(),g.Xb(4,"div",58),g.Sc(5,I,3,1,"div",59),g.Wb(),g.Wb()),2&t){var a=g.nc(2);g.Db(5),g.uc("ngForOf",a.messages)}}var x=function(t){return{"chat-left":t}};function O(t,e){if(1&t&&(g.Xb(0,"div",54),g.Xb(1,"div",55),g.Xb(2,"a",56),g.Sb(3,"img",57),g.Wb(),g.Wb(),g.Xb(4,"div",58),g.Sc(5,D,4,3,"div",59),g.Wb(),g.Sc(6,S,3,1,"p",60),g.Sc(7,U,6,1,"div",61),g.Wb()),2&t){var a=e.$implicit,i=g.nc();g.uc("ngClass",g.yc(5,x,a.isReceived)),g.Db(3),g.uc("src",a.isReceived?i.activeChatUserImg:i.loggedInUserImg,g.Mc),g.Db(2),g.uc("ngForOf",a.messages),g.Db(1),g.uc("ngIf",""!=a.time),g.Db(1),g.uc("ngIf",i.messages.length>0)}}var k=function(t){return{show:t}},T=[{path:"",component:function(){function t(t,e,a,i,n,c){this.elRef=t,this.renderer=e,this.document=a,this.configService=i,this.cdr=n,this.store=c,this.chats=[],this.usersChat=[],this.newMessage="",this.searchQuery="",this.placement="bottom-right",this.isContentOverlay=!1,this.config={},this.messages=new Array,this.item=0}return t.prototype.ngOnInit=function(){var t=this;this.config=this.configService.templateConf,this.subscription=this.store.select("chat").subscribe((function(e){t.usersChat=e.usersChat,t.activeChat=e.usersChat.find((function(t){return t.isActiveChat})),t.chats=t.activeChat?t.activeChat.chats:[],t.activeChatUser=t.activeChat?t.activeChat.name:"",t.activeChatUserImg=t.activeChat?t.activeChat.avatar:"",t.loggedInUserImg="assets/img/portrait/small/avatar-s-1.png"})),this.renderer.addClass(this.document.body,"chat-application")},t.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe(),this.layoutSub&&this.layoutSub.unsubscribe(),this.renderer.removeClass(this.document.body,"chat-application")},t.prototype.onSidebarToggle=function(){this.isContentOverlay=!0},t.prototype.onContentOverlay=function(){this.isContentOverlay=!1},t.prototype.onAddMessage=function(){if(""!=this.newMessage){var t=new l.b(this.activeChat.userId,this.activeChat.index,this.activeChat.name,this.activeChat.avatar,this.activeChat.lastChatTime,this.activeChat.status,this.activeChat.isPinnedUser,this.activeChat.isMuted,this.activeChat.unreadMessageCount,this.activeChat.isActiveChat,this.activeChat.lastChatMessage,this.activeChat.chats.concat({isReceived:!1,time:"",messages:[this.newMessage],messageType:"text"}));this.store.dispatch(new h.b({index:t.index,newChat:t}))}this.newMessage=""},t.prototype.viewChat=function(t){var e,a=this;Object(d.__spreadArrays)(this.usersChat).forEach((function(t){t.userId===a.activeChat.userId&&(e=new l.b(t.userId,t.index,t.name,t.avatar,t.lastChatTime,t.status,t.isPinnedUser,t.isMuted,t.unreadMessageCount,!1,t.lastChatMessage,t.chats))}));var i=new l.b(t.userId,t.index,t.name,t.avatar,t.lastChatTime,t.status,t.isPinnedUser,t.isMuted,t.unreadMessageCount,!0,t.lastChatMessage,t.chats);[new h.b({index:e.index,newChat:e}),new h.b({index:i.index,newChat:i})].forEach((function(t){return a.store.dispatch(t)})),this.isContentOverlay=!1},t.\u0275fac=function(e){return new(e||t)(g.Rb(g.l),g.Rb(g.E),g.Rb(i.d),g.Rb(u.a),g.Rb(g.h),g.Rb(c.a))},t.\u0275cmp=g.Lb({type:t,selectors:[["app-ngrx-chat"]],decls:50,vars:15,consts:[[1,"chat-application","overflow-hidden"],[1,"app-content-overlay",3,"ngClass","click"],["contentOverlay",""],[1,"chat-sidebar","d-md-block",3,"perfectScrollbar"],["chatSidebar",""],[1,"sidebar-close-icon","d-md-none",3,"click"],[1,"ft-x"],[1,"chat-sidebar-content"],[1,"chat-fixed-search","py-2","px-3","my-1"],["action","javascript:;"],[1,"position-relative","has-icon-left"],["placeholder","Search users","id","timesheetinput1","name","employeename","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control-position"],[1,"ft-user"],[1,"m-0"],["id","users-list",1,"list-group"],[1,"users-list-padding","position-relative"],["class","list-group-item ",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"chat-name","p-2"],[1,"media","p-1","align-items-center"],[1,"chat-app-sidebar-toggle","ft-menu","font-medium-4","mr-3","d-block","d-md-none",3,"click"],[1,"media-body"],["width","37","alt","avatar",1,"avatar","mr-1",3,"src"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic",1,"d-inline-block",3,"placement"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;",1,"dropdown-item"],[1,"chat-app-window","position-relative",3,"perfectScrollbar","scrollTop"],["scrollMe",""],[1,"chats"],["class","chat",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-app-form","px-3","py-2"],[1,"d-flex","align-items-center"],["type","text","name","iconLeft4","id","iconLeft4","placeholder","Type your message here",1,"form-control","chat-message-send","mr-2",3,"ngModel","keydown.enter","ngModelChange"],["it","ngModel"],["type","button",1,"btn","btn-primary","d-lg-flex","align-items-center",3,"click"],[1,"ft-send"],[1,"d-none","d-lg-block","ml-1"],[1,"list-group-item",3,"ngClass","click"],[1,"media","py-1",3,"ngClass"],[1,"avatar","avatar-md","mr-2"],["alt","Avatar",3,"src"],[1,"list-group-item-heading","mb-1"],[1,"font-small-2","float-right","chat-time"],[1,"list-group-item-text","chat-user-list-text","m-0"],[1,"ft-check","primary","font-small-2","mr-1"],[1,"float-right","primary"],["class","font-medium-1 icon-pin",4,"ngIf"],["class","font-medium-1 icon-volume-off mr-1",4,"ngIf"],["class","badge badge-pill bg-light-primary badge-round",4,"ngIf"],[1,"font-medium-1","icon-pin"],[1,"font-medium-1","icon-volume-off","mr-1"],[1,"badge","badge-pill","bg-light-primary","badge-round"],[1,"chat",3,"ngClass"],[1,"chat-avatar"],["data-toggle","tooltip","data-placement","[activeChatUserImg]","title","","data-original-title","",1,"avatar","avatar-md"],["alt","avatar",3,"src"],[1,"chat-body"],["class","chat-content",4,"ngFor","ngForOf"],["class","time",4,"ngIf"],["class","chat",4,"ngIf"],[1,"chat-content"],[4,"ngIf"],["style","height: 250px; width: 250px",4,"ngIf"],["id","singleAudio","preload","auto","controls","",3,"vgMedia"],["media1",""],["type","audio/mp3",3,"src"],[2,"height","250px","width","250px"],["id","singleVideo","preload","auto","controls","",3,"vgMedia"],["media",""],["type","video/mp4",3,"src"],[1,"time"],[1,"badge","badge-secondary","mb-1"],[1,"chat"],["data-toggle","tooltip","data-placement","right","title","","data-original-title","",1,"avatar"],["src","assets/img/portrait/small/avatar-s-1.png","alt","avatar"]],template:function(t,e){if(1&t&&(g.Xb(0,"div",0),g.Xb(1,"div",1,2),g.jc("click",(function(){return e.onContentOverlay()})),g.Wb(),g.Xb(3,"div",3,4),g.Xb(5,"span",5),g.jc("click",(function(){return e.isContentOverlay=!1})),g.Sb(6,"i",6),g.Wb(),g.Xb(7,"div",7),g.Xb(8,"div",8),g.Xb(9,"form",9),g.Xb(10,"div",10),g.Xb(11,"input",11),g.jc("ngModelChange",(function(t){return e.searchQuery=t})),g.Wb(),g.Xb(12,"div",12),g.Sb(13,"i",13),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Sb(14,"hr",14),g.Xb(15,"div",15),g.Xb(16,"div",16),g.Sc(17,X,19,16,"a",17),g.oc(18,"search"),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Xb(19,"div",18),g.Xb(20,"div",19),g.Xb(21,"span",20),g.jc("click",(function(){return e.onSidebarToggle()})),g.Wb(),g.Xb(22,"div",21),g.Sb(23,"img",22),g.Xb(24,"span"),g.Uc(25),g.Wb(),g.Wb(),g.Xb(26,"div",23),g.Xb(27,"div",24),g.Sb(28,"i",25),g.Xb(29,"div",26),g.Xb(30,"a",27),g.Uc(31,"View Profile"),g.Wb(),g.Xb(32,"a",27),g.Uc(33,"Mute Notification"),g.Wb(),g.Xb(34,"a",27),g.Uc(35,"Clear Chat"),g.Wb(),g.Xb(36,"a",27),g.Uc(37,"Add Shortcut"),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Xb(38,"section",28,29),g.Xb(40,"div",30),g.Sc(41,O,8,7,"div",31),g.Wb(),g.Wb(),g.Xb(42,"section",32),g.Xb(43,"div",33),g.Xb(44,"input",34,35),g.jc("keydown.enter",(function(t){return e.onAddMessage(),t.preventDefault()}))("ngModelChange",(function(t){return e.newMessage=t})),g.Wb(),g.Xb(46,"button",36),g.jc("click",(function(){return e.onAddMessage()})),g.Sb(47,"i",37),g.Xb(48,"span",38),g.Uc(49,"Send"),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Wb()),2&t){var a=g.Hc(39);g.Db(1),g.uc("ngClass",g.yc(13,k,e.isContentOverlay)),g.Db(10),g.uc("ngModel",e.searchQuery),g.Db(6),g.uc("ngForOf",g.rc(18,9,e.usersChat,"name",e.searchQuery)),g.Db(6),g.uc("src",e.activeChatUserImg,g.Mc),g.Db(2),g.Vc(e.activeChatUser),g.Db(2),g.uc("placement",e.placement),g.Db(11),g.uc("scrollTop",a.scrollHeight),g.Db(3),g.uc("ngForOf",e.chats),g.Db(3),g.uc("ngModel",e.newMessage)}},directives:[i.n,r.b,n.C,n.r,n.s,n.c,n.q,n.t,i.o,o.l,o.o,o.n,i.p,s.r,s.q],pipes:[p.a],styles:[""],changeDetection:0}),t}(),data:{title:"Chat"}}],j=function(){function t(){}return t.\u0275mod=g.Pb({type:t}),t.\u0275inj=g.Ob({factory:function(e){return new(e||t)},imports:[[b.f.forChild(T)],b.f]}),t}(),A=a("anuX"),V=a("hUIq"),F=function(){function t(){}return t.\u0275mod=g.Pb({type:t}),t.\u0275inj=g.Ob({factory:function(e){return new(e||t)},imports:[[i.c,n.k,j,o.t,s.c,s.b,s.d,s.a,r.c,A.a,c.b.forFeature("chat",V.a)]]}),t}()}}]);